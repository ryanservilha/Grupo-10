<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/dashboardTerreno.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Dashboard Agro Smart</title>
</head>

<body>
    <div class="sidebar">
        <div class="containerSideBar">
            <a href="dashboard.html" class="itens">Graficos</a>
            <a href="dashTerreno.html" class="itens"  id="clicked">Terrenos</a>
            <a href="#" class="itens">Jira</a>
            <a href="./BobIA/public/index.html" class="itens">Bob I.A</a>
            <a href="index.html" class="itens" id="sideButton">Sair</a>
        </div>
    </div>
    <div class="container">
        <div class="header">
            <div class="logo">
                <a href="index.html">
                    <h1>Agro Smart<span>.</span></h1>
                    <svg width="79" height="14" viewBox="0 0 79 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2 2.69324C15.6667 9.19324 49.8 18.2932 77 2.69324" stroke="#FFFF" stroke-width="4"
                            stroke-linecap="round" />
                    </svg>
                </a>
            </div>
            <div class="titulo">
                <div class="textinho">
                    <h2>Taxa de Umidade</h2>
                </div>
                <div class="cores">
                    <div class="vermelho">
                        <p>Menor que 13%</p>
                    </div>
                    <div class="verde">
                        <p>Entre 13% e 15%</p>
                    </div>
                    <div class="vermelho">
                        <p>Maior que 15% </p>
                    </div>
                </div>
            </div>
            <div class="perfil">
                <select id="escolhaTerreno">
                    <option value="1">Terreno 1</option>
                    <option value="2">Terreno 2</option>
                </select>
            </div>
        </div>
        <div class="main_content">
            <div class="cima">
                <div class="quadrados">
                    <div class="quadrado" id="totalSensores">
                        <h2>Total de Sensores Ativos na Plantação</h2>
                        <p><b style="color: rgb(15, 202, 15);">5</b>/5</p>
                    </div>
                    <div class="quadrado" id="alertas">
                        <h2>Alertas</h2>
                        <p>2</p>
                        <a onclick="mostrarDetalhe()">Detalhe</a>
                    </div>
                    <div id="overlay"></div>
                    <div class="quadrado" id="detalhe">
                        <div class="botaoFechar">
                            <button onclick="fecharDetalhe()">X</button>
                        </div>
                        <div class="lista">
                            <ul>
                                <li><a href="dashTerreno.html">Terreno 1: Umidade = <span>15.7%</span> 18:20</a></li>
                                <li><a href="dashTerreno.html">Terreno 1: Umidade = <span>15.7%</span> 18:20</a></li>
                                <li><a href="dashTerreno.html">Terreno 1: Umidade = <span>15.7%</span> 18:20</a></li>
                                <li><a href="dashTerreno.html">Terreno 1: Umidade = <span>15.7%</span> 18:20</a></li>
                            </ul>
                        </div>
                    </div>

                    <div class="quadrado" id="menorTaxaDia">
                        <h2>Menor Taxa de Umidade do Dia</h2>
                        <h3>12.7%</h3>
                        <p>05:48</p>
                    </div>
                    <div class="quadrado" id="maiorTaxaDia">
                        <h2>Maior Taxa de Umidade do Dia</h2>
                        <h3>15.7%</h3>
                        <p>12:48</p>
                    </div>
                </div>

            </div>
            <div class="baixo">
                <div class="graficoDia">
                    <div class="cimaGrafico">
                        <h2>Variação de Umidade ao Longo do Dia</h2>
                    </div>
                    <canvas id="graficoUmidadeDia"></canvas>
                </div>
                <div class="grafico30dias">
                    <div class="grafico30">
                        <h2>Quantidade de Alertas nos Últimos 30 Dias</h2>
                    </div>
                    <canvas id="graficoUmidade30Dias"></canvas>
                </div>
            </div>
        </div>
    </div>
</body>

</html>
<script>     var graficoAoLongoDia = new Chart(document.getElementById('graficoUmidadeDia').getContext('2d'), {
        type: 'line',
        data: {
            labels: ['00:00', '01:00', '02:00', '03:00', '04:00', '05:00',
                '06:00', '07:00', '08:00', '09:00', '10:00', '11:00',
                '12:00', '13:00', '14:00', '15:00', '16:00', '17:00',
                '18:00', '19:00', '20:00', '21:00', '22:00', '23:00'],
            datasets: [{
                label: 'Terreno 1',
                data: [20, 14, 21, 15, 14, 14, 15, 18, 13, 13, 14, 14, 17, 20, 16, 13, 16, 15, 17, 20, 13, 15, 12, 13, 20, 14, 13, 20, 14, 18],
                borderColor: '#a90039',
                backgroundColor: '#ED145B'
            }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                x: {
                    beginAtZero: true,
                    grid: {
                        display: false
                    }
                },
                y: {
                    title: {
                        display: true,
                        text: '(%)'
                    },
                    beginAtZero: true,
                    grid: {
                        display: false
                    }
                },
            },
        }
    });

    var graficoTrintaDias = new Chart(document.getElementById('graficoUmidade30Dias').getContext('2d'), {
        type: 'bar',
        data: {
            labels: ['24/03', '25/03', '26/03', '27/03', '28/03', '29/03', '30/03', '31/03',
                '01/04', '02/04', '03/04', '04/04', '05/04', '06/04', '07/04', '08/04',
                '09/04', '10/04', '11/04', '12/04', '13/04', '14/04', '15/04', '16/04',
                '17/04', '18/04', '19/04', '20/04', '21/04', '22/04'],
            datasets: [{
                label: 'Terreno 1',
                data: [15, 14, 13, 15, 14, 14, 15, 13, 13, 13, 14, 14, 15, 13, 15, 13, 14, 15, 15, 12, 13, 15, 14, 13, 15, 14, 13, 13, 20, 18],
                borderColor: '#ED145B',
                backgroundColor: '#ED145B'
            }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                x: {
                    beginAtZero: true,
                    grid: {
                        display: false
                    }
                },
                y: {
                    title: {
                        display: true,
                        text: '(%)'
                    },
                    beginAtZero: true,
                    grid: {
                        display: false
                    }
                },
            },
        }
    });

    function mostrarDetalhe() {
        detalhe.style.display = 'flex';

        document.getElementById('detalhe').style.display = 'flex';
        document.getElementById('overlay').style.display = 'block';
    }

    function fecharDetalhe() {
        document.getElementById('detalhe').style.display = 'none';
        document.getElementById('overlay').style.display = 'none';
        detalhe.style.display = 'none';
    }
</script>